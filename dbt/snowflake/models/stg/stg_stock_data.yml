version: 2

models:
  - name: stg_stock_data
    columns:
      - name: ticker
        data_tests:
          - not_null
      - name: trading_date
        data_tests:
          - not_null
      - name: open
        data_tests:
          - not_null
      - name: high
        data_tests:
          - not_null
      - name: low
        data_tests:
          - not_null
      - name: close
        data_tests:
          - not_null
      - name: volume
        data_tests:
          - not_null
      - name: load_ts
        data_tests:
          - not_null
      - name: source_file
        data_tests:
          - not_null
    tests:
      - dbt_utils.unique_combination_of_columns:
          arguments:
            combination_of_columns:
              - ticker
              - trading_date